<!DOCTYPE html>
<html>

<head>
  <title>P5 test</title>
  <meta http-equiv="pragma" content="no-cache" />
  <meta http-equiv="cache-control" content="no-cache" />
  <meta charset="utf-8">

  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
  </style>
</head>

<body>
  <script type="module">
    import p5 from '../src/app.js';

    const sketch = function (p) {
      let f;
      const testWebgl = true

      p.setup = async function () {
        // TODO: make this work without a name
        f = await p.loadFont('font/Lato-Black.ttf', 'Lato')
        p.createCanvas(200, 200, testWebgl ? p.WEBGL : undefined);
      };

      p.draw = function () {
        p.background(0, 50, 50);
        if (testWebgl) p.translate(-p.width/2, -p.height/2);

        p.fill('white');
        p.textSize(60);
        p.textAlign(p.RIGHT, p.CENTER)
        p.textFont(f)
        p.text('hello, world!', 0, p.height/2, p.width);
      };
    };

    new p5(sketch);
  </script>
  <p style="font-family: Lato">hello, world!</p>
</body>

</html>